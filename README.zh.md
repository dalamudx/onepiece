<div align="center">

<b>中文</b> | <a href="README.md">English</a>

<img src="https://raw.githubusercontent.com/dalamudx/onepiece/refs/heads/master/OnePiece/img/logo.png" alt="One Piece Logo" width="128" height="128">

# One Piece FFXIV 插件

[![GitHub release](https://img.shields.io/github/v/release/dalamudx/onepiece?include_prereleases&style=flat)](https://github.com/dalamudx/onepiece/releases)
[![GitHub issues](https://img.shields.io/github/issues/dalamudx/onepiece)](https://github.com/dalamudx/onepiece/issues)

**通过智能路线规划优化您的FFXIV寻宝之旅**

</div>

---

## 📋 简介

One Piece是为《最终幻想XIV》(FFXIV)设计的Dalamud插件，专注于帮助玩家规划和优化寻宝路线。无论您是经验丰富的寻宝者还是刚刚入门，这个工具都将使您的寻宝更加高效。

---

## ✨ 主要功能

### 📍 宝藏坐标管理
* **导入坐标**：从剪贴板或游戏聊天频道导入宝藏坐标
* **导出坐标**：将坐标导出到剪贴板，方便与队友分享
* **坐标收集**：跟踪已收集和未收集的宝藏点
* **回收站功能**：临时存储删除的坐标，需要时可恢复

### 🛣️ 路线优化
* **自动路线优化**：计算通过所有宝藏点的最短或最有效路线
* **考虑传送费用**：在计算路线时考虑以太之光传送费用和距离
* **地图区域识别**：自动识别坐标所在的地图区域

### 💬 频道设置
* **自动坐标检测**：自动从选定的聊天频道检测并导入坐标
* **支持多种聊天频道**：包括说话、呼喊、喊话、小队、团队、部队以及通讯贝等

### 📝 自定义消息系统
* **消息模板**：创建和管理可重用的坐标分享消息模板
* **特殊字符支持**：使用游戏特殊字符，包括数字、方框数字和轮廓方框数字
* **组件化设计**：混合搭配不同的消息组件，灵活创建消息

### 🖥️ 用户友好界面
* **清晰的坐标列表**：显示所有导入的坐标及其状态
* **优化路线显示**：直观显示优化后的路线顺序
* **登录状态检测**：在未登录游戏时自动禁用功能

### 🌐 多语言支持
* **支持的语言**：英语、日语、中文、德语和法语

---

## 🚀 使用方法

### 📥 安装

1. 确保您已安装[FFXIVQuickLauncher](https://github.com/goatcorp/FFXIVQuickLauncher)
2. 启用Dalamud插件
3. 在游戏聊天中输入`/xlsettings`打开Dalamud设置
4. 转到"实验性"选项卡
5. 找到"自定义插件仓库"部分，如有需要同意列出的条款，并粘贴以下链接：
   ```
   https://raw.githubusercontent.com/dalamudx/onepiece/refs/heads/master/repo.json
   ```
6. 点击"保存"按钮
7. 在插件安装器中搜索"One Piece"并安装

### 🔰 基本用法

1. 使用`/onepiece`命令打开主界面
2. 在"导入"部分，从剪贴板导入坐标或启用聊天频道监控
3. 使用"优化路线"按钮计算最佳路线
4. 按照优化顺序访问坐标点，标记已收集的点

### 📎 导入坐标

插件支持两种导入坐标的方式：
* **剪贴板导入**：复制包含坐标的文本，然后点击"导入"按钮
* **聊天监控**：启用频道监控，自动从选定频道检测坐标

### 💬 消息自定义

插件提供灵活的选项来自定义坐标分享消息：
* **消息模板**：创建、编辑和管理可重用的消息模板
* **组件选择**：混合搭配不同的消息组件（玩家名称、坐标、自定义文本）
* **特殊字符**：使用游戏特殊字符（数字、方框数字、轮廓方框数字）包含数字指示器
* **预览系统**：在发送前查看消息在聊天中的确切显示效果

### ⚙️ 路线优化

点击"优化路线"按钮，插件将基于以下因素计算最佳路径：
* 当前玩家位置
* 以太之光传送费用
* 坐标之间、坐标与以太之光传送点的距离

---

## 📝 TODO

以下功能计划在未来版本中实现：

* **路径选择算法优化**：增强路线优化算法，提供更高效的寻宝路线
* **优化坐标列表显示**：改进坐标列表的视觉呈现和组织方式
* **支持相关插件功能**：添加与补充性FFXIV插件的集成能力
* **以太之光传送点坐标动态获取**：自动获取和更新以太之光传送点位置
* **其他语言客户端适配**：改进对非英语语言端的适配，提供更全面的本地化支持

---

## 🤝 贡献和支持

如果您发现错误或有改进建议，请在[GitHub仓库](https://github.com/dalamudx/onepiece)提交问题或拉取请求。
